{"ast":null,"code":"var _jsxFileName = \"/Users/colepatton/vibin/src/pages/UserProfile.js\";\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport '../style/App.css';\nimport { loadPosts, loadLikes, loadUserFollowing, newUser } from '../backendCalls';\nimport { getUser } from '../spotifyCalls';\nimport Post from '../components/Post';\n\nclass UserProfile extends Component {\n  constructor() {\n    super();\n\n    this.initializePlayer = () => {\n      const name = this.state.serverData.user.name + ' vibes';\n      this.player = new window.Spotify.Player({\n        getOAuthToken: cb => {\n          cb(this.state.accessToken);\n        },\n        name\n      });\n      this.player.addListener('initialization_error', ({\n        message\n      }) => {\n        console.error(message);\n      });\n      this.player.addListener('authentication_error', ({\n        message\n      }) => {\n        console.error(message);\n      });\n      this.player.addListener('account_error', ({\n        message\n      }) => {\n        console.error(message);\n      });\n      this.player.addListener('playback_error', ({\n        message\n      }) => {\n        console.error(message);\n      }); // Playback status updates\n\n      this.player.addListener('player_state_changed', state => {\n        console.log(state);\n      }); // Ready\n\n      this.player.addListener('ready', ({\n        device_id\n      }) => {\n        this.handlePlayerStatus(device_id);\n        console.log('Ready with Device ID', device_id);\n      }); // Not Ready\n\n      this.player.addListener('not_ready', ({\n        device_id\n      }) => {\n        console.log('Device ID has gone offline', device_id);\n      });\n      this.player.connect();\n    };\n\n    this.state = {\n      deviceId: '',\n      accessToken: '',\n      userProfile: '',\n      serverData: {},\n      muted: true\n    };\n    this.getFollowing = this.getFollowing.bind(this);\n    this.newUserButton = this.newUserButton.bind(this);\n  }\n\n  componentDidMount() {\n    let parsed = queryString.parse(window.location.search);\n    let username = parsed.username;\n    let postsForProfile = [];\n\n    if (parsed.access_token) {\n      let accessToken = parsed.access_token;\n      getUser(accessToken).then(user => {\n        loadPosts().then(posts => {\n          loadLikes().then(likes => {\n            posts.forEach(post => {\n              let likeCount = 0;\n\n              if (post.name === username) {\n                likes.forEach(like => {\n                  if (post._id === like.postId) {\n                    likeCount++;\n                  }\n                });\n                post = { ...post,\n                  likeByUser: true,\n                  likeCount: likeCount\n                };\n                postsForProfile.push(post);\n              } else {\n                likes.forEach(like => {\n                  if (post._id === like.postId) {\n                    likeCount++;\n                  }\n\n                  if (like.username === username) {\n                    post = { ...post,\n                      likeByUser: true,\n                      likeCount: likeCount\n                    };\n                    postsForProfile.push(post);\n                  }\n                });\n              }\n            });\n            this.setState({\n              accessToken: accessToken,\n              serverData: {\n                posts: postsForProfile,\n                user: {\n                  name: user.display_name\n                }\n              }\n            });\n          }).then(window.onSpotifyWebPlaybackSDKReady = this.initializePlayer);\n        });\n      });\n    } else {\n      loadPosts().then(posts => {\n        loadLikes().then(likes => {\n          posts.forEach(post => {\n            let likeCount = 0;\n\n            if (post.name === username) {\n              likes.forEach(like => {\n                if (post._id === like.postId) {\n                  likeCount++;\n                }\n              });\n              post = { ...post,\n                likeByUser: true,\n                likeCount: likeCount\n              };\n              postsForProfile.push(post);\n            } else {\n              likes.forEach(like => {\n                if (post._id === like.postId) {\n                  likeCount++;\n                }\n\n                if (like.username === username) {\n                  post = { ...post,\n                    likeByUser: true,\n                    likeCount: likeCount\n                  };\n                  postsForProfile.push(post);\n                }\n              });\n            }\n          });\n          this.setState({\n            serverData: {\n              posts: postsForProfile\n            }\n          });\n        });\n      });\n    }\n  }\n\n  getFollowing() {\n    loadUserFollowing(this.state.username);\n  }\n\n  newUserButton() {\n    newUser(this.state.username);\n  }\n\n  render() {\n    let allPosts = this.state.serverData.posts ? this.state.serverData.posts : [];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, \"Vibe Share\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttonContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButtonWhite\",\n      onClick: this.handleLogInButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, this.state.accessToken ? 'Log Out' : 'Log In'))), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginTop: '5em'\n      },\n      className: \"myButtonWhite\",\n      onClick: this.getFollowing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, \"button\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginTop: '5em'\n      },\n      className: \"myButtonWhite\",\n      onClick: this.newUserButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, \"newUser\"), allPosts.map(currentPost => /*#__PURE__*/React.createElement(Post, {\n      post: currentPost,\n      deviceId: this.state.deviceId,\n      accessToken: this.state.accessToken,\n      muted: this.state.muted,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    })));\n  }\n\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["/Users/colepatton/vibin/src/pages/UserProfile.js"],"names":["React","Component","queryString","loadPosts","loadLikes","loadUserFollowing","newUser","getUser","Post","UserProfile","constructor","initializePlayer","name","state","serverData","user","player","window","Spotify","Player","getOAuthToken","cb","accessToken","addListener","message","console","error","log","device_id","handlePlayerStatus","connect","deviceId","userProfile","muted","getFollowing","bind","newUserButton","componentDidMount","parsed","parse","location","search","username","postsForProfile","access_token","then","posts","likes","forEach","post","likeCount","like","_id","postId","likeByUser","push","setState","display_name","onSpotifyWebPlaybackSDKReady","render","allPosts","handleLogInButton","marginTop","map","currentPost"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport '../style/App.css';\nimport { loadPosts, loadLikes, loadUserFollowing, newUser } from '../backendCalls'\nimport { getUser } from '../spotifyCalls';\nimport Post from '../components/Post';\n\nclass UserProfile extends Component {\n    constructor() {\n        super();\n        this.state = {\n            deviceId: '',\n            accessToken: '',\n            userProfile: '',\n            serverData: {},\n            muted: true\n        };\n        this.getFollowing = this.getFollowing.bind(this);\n        this.newUserButton = this.newUserButton.bind(this);\n    }\n    initializePlayer = () => {\n        const name = this.state.serverData.user.name + ' vibes';\n\n        this.player = new window.Spotify.Player({\n            getOAuthToken: cb => {\n                cb(this.state.accessToken);\n            },\n            name\n        });\n\n        this.player.addListener('initialization_error', ({ message }) => { console.error(message); });\n        this.player.addListener('authentication_error', ({ message }) => { console.error(message); });\n        this.player.addListener('account_error', ({ message }) => { console.error(message); });\n        this.player.addListener('playback_error', ({ message }) => { console.error(message); });\n\n        // Playback status updates\n        this.player.addListener('player_state_changed', state => { console.log(state); });\n\n        // Ready\n        this.player.addListener('ready', ({ device_id }) => {\n            this.handlePlayerStatus(device_id);\n            console.log('Ready with Device ID', device_id);\n        });\n\n        // Not Ready\n        this.player.addListener('not_ready', ({ device_id }) => {\n            console.log('Device ID has gone offline', device_id);\n        });\n\n        this.player.connect();\n    };\n    componentDidMount() {\n        let parsed = queryString.parse(window.location.search);\n        let username = parsed.username;\n        let postsForProfile = [];\n        if (parsed.access_token) {\n            let accessToken = parsed.access_token;\n            getUser(accessToken).then(user => {\n                loadPosts().then(posts => {\n                    loadLikes().then(likes => {\n                        posts.forEach(post => {\n                            let likeCount = 0\n                            if (post.name === username) {\n                                likes.forEach(like => {\n                                    if (post._id === like.postId) {\n                                        likeCount++;\n                                    }\n                                });\n                                post = {\n                                    ...post,\n                                    likeByUser: true,\n                                    likeCount: likeCount\n                                }\n                                postsForProfile.push(post);\n                            } else {\n                                likes.forEach(like => {\n                                    if (post._id === like.postId) {\n                                        likeCount++;\n                                    }\n                                    if (like.username === username) {\n                                        post = {\n                                            ...post,\n                                            likeByUser: true,\n                                            likeCount: likeCount\n                                        }\n                                        postsForProfile.push(post);\n                                    }\n                                });\n                            }\n                        });\n                        this.setState({\n                            accessToken: accessToken,\n                            serverData: {\n                                posts: postsForProfile,\n                                user: {\n                                    name: user.display_name\n                                }\n                            }\n                        });\n                    }).then(window.onSpotifyWebPlaybackSDKReady = this.initializePlayer);\n                });\n            });\n        } else {\n            loadPosts().then(posts => {\n                loadLikes().then(likes => {\n                    posts.forEach(post => {\n                        let likeCount = 0\n                        if (post.name === username) {\n                            likes.forEach(like => {\n                                if (post._id === like.postId) {\n                                    likeCount++;\n                                }\n                            });\n                            post = {\n                                ...post,\n                                likeByUser: true,\n                                likeCount: likeCount\n                            }\n                            postsForProfile.push(post);\n                        } else {\n                            likes.forEach(like => {\n                                if (post._id === like.postId) {\n                                    likeCount++;\n                                }\n                                if (like.username === username) {\n                                    post = {\n                                        ...post,\n                                        likeByUser: true,\n                                        likeCount: likeCount\n                                    }\n                                    postsForProfile.push(post);\n                                }\n                            });\n                        }\n                    });\n                    this.setState({\n                        serverData: {\n                            posts: postsForProfile,\n                        }\n                    });\n                });\n            });\n        }\n    }\n    getFollowing() {\n        loadUserFollowing(this.state.username);\n    }\n    newUserButton() {\n        newUser(this.state.username);\n    }\n    render() {\n        let allPosts = this.state.serverData.posts ? this.state.serverData.posts : [];\n\n        return (\n            <div>\n                <div className='header'>\n                    <div>\n                        <h1>Vibe Share</h1>\n                    </div>\n                    <div className='buttonContainer'>\n                        <button className='myButtonWhite' onClick={this.handleLogInButton}>{this.state.accessToken ? 'Log Out' : 'Log In'}</button>\n                    </div>\n                </div>\n                <button style={{ marginTop: '5em' }} className='myButtonWhite' onClick={this.getFollowing}>button</button>\n                <button style={{ marginTop: '5em' }} className='myButtonWhite' onClick={this.newUserButton}>newUser</button>\n                {allPosts.map(currentPost =>\n                  <Post\n                    post={currentPost}\n                    deviceId={this.state.deviceId}\n                    accessToken={this.state.accessToken}\n                    muted={this.state.muted}\n                  />)}\n            </div>\n        )\n    }\n}\n\nexport default UserProfile;\n"]},"metadata":{},"sourceType":"module"}