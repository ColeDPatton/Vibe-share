{"ast":null,"code":"var _jsxFileName = \"/Users/colepatton/vibin/src/components/ProfilePageHeader.js\";\nimport React, { Component } from 'react';\nimport '../style/App.css';\nimport queryString from 'query-string';\nimport Slider from '@material-ui/core/Slider';\nimport { withStyles } from '@material-ui/core/styles';\nimport { saveProfilePicY, followUser, unFollowUser } from '../backendCalls';\n\nclass ProfilePageHeader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSliderChange = (event, value) => {\n      this.setState({\n        currentProfilePicY: value + '%'\n      });\n    };\n\n    this.state = {\n      showMobileMenu: false,\n      startingProfilePicY: '20%',\n      currentProfilePicY: '20%',\n      adjustingCoverImage: false\n    };\n    this.redirectToHomePage = this.redirectToHomePage.bind(this);\n    this.handleLogInButton = this.handleLogInButton.bind(this);\n    this.toggleMobileMenu = this.toggleMobileMenu.bind(this);\n    this.redirectToProfilePage = this.redirectToProfilePage.bind(this);\n    this.handleSliderChange = this.handleSliderChange.bind(this);\n    this.adjustCoverImage = this.adjustCoverImage.bind(this);\n    this.saveCoverImageAdjustments = this.saveCoverImageAdjustments.bind(this);\n    this.followUser = this.followUser.bind(this);\n    this.unfollowUser = this.unfollowUser.bind(this);\n    this.clickFollowButton = this.clickFollowButton.bind(this);\n  }\n\n  componentWillReceiveProps() {\n    if (this.props.profilePicY !== this.state.startingProfilePicY) this.setState({\n      startingProfilePicY: this.props.profilePicY\n    });\n  }\n\n  redirectToHomePage() {\n    let parsed = queryString.parse(window.location.search);\n    let accessToken;\n    if (parsed.access_token) accessToken = parsed.access_token;\n    window.location.href = window.location.origin + (accessToken ? '?access_token=' + accessToken : '');\n  }\n\n  handleLogInButton() {\n    if (!queryString.parse(window.location.search).access_token) {\n      window.location.href = window.location.href === 'http://localhost:3000/' ? 'http://localhost:8000/login' : 'https://vibin-backend.herokuapp.com/login';\n    }\n  }\n\n  toggleMobileMenu() {\n    this.setState({\n      showMobileMenu: !this.state.showMobileMenu\n    });\n  }\n\n  redirectToProfilePage() {\n    let parsed = queryString.parse(window.location.search);\n    let accessToken = '';\n    if (parsed.access_token) accessToken = parsed.access_token;\n    window.location.href = window.location.origin + '/user/?username=' + this.props.username + '&userId=' + this.props.userId + (accessToken ? '&access_token=' + accessToken : '');\n  }\n\n  adjustCoverImage() {\n    this.setState({\n      adjustingCoverImage: !this.state.adjustingCoverImage,\n      currentProfilePicY: this.state.startingProfilePicY\n    });\n  }\n\n  saveCoverImageAdjustments() {\n    saveProfilePicY(this.props.profilePageId, this.state.currentProfilePicY);\n    this.setState({\n      adjustingCoverImage: !this.state.adjustingCoverImage,\n      startingProfilePicY: this.state.currentProfilePicY\n    });\n  }\n\n  trimOffPercent(numberWithPercentSign) {\n    return numberWithPercentSign.slice(0, -1) * 1;\n  }\n\n  unfollowUser() {\n    unFollowUser(this.state.serverData.user.name, this.state.serverData.user.id, this.state.profilePageUsername, this.state.profilePageId);\n    const updatedFollowerList = this.state.followers;\n    const deleteIndex = updatedFollowerList.findIndex(x => x === this.state.serverData.user.id);\n    updatedFollowerList.splice(deleteIndex, 1);\n    this.setState({\n      followers: updatedFollowerList,\n      loggedInUserFollowingProfileUser: false\n    });\n  }\n\n  followUser() {\n    followUser(this.state.serverData.user.name, this.state.serverData.user.id, this.state.profilePageUsername, this.state.profilePageId);\n    const updatedFollowerList = this.state.followers;\n    updatedFollowerList.push({\n      userId: this.state.serverData.user.id,\n      username: this.state.serverData.user.name\n    });\n    this.setState({\n      followers: updatedFollowerList,\n      loggedInUserFollowingProfileUser: true\n    });\n  }\n\n  clickFollowButton() {\n    this.props.loggedInUserFollowingProfileUser ? this.unfollowUser() : this.followUser();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profilePageHeader\",\n      style: {\n        backgroundImage: 'url(' + this.props.profilePic + ')',\n        backgroundPosition: 'center ' + (this.state.adjustingCoverImage ? this.state.currentProfilePicY : this.state.startingProfilePicY)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      onClick: this.redirectToHomePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \"Vibe Share\"), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"usernameTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, this.props.username)), this.props.username === 'Not logged in' ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"logIn myButtonWhite\",\n      onClick: this.handleLogInButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Log In\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"mobile myButtonWhite\",\n      onClick: this.toggleMobileMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Menu\"), this.props.username !== '' && this.props.username !== 'Not logged in' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"desktopNav buttonContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, this.props.clickNewPost && /*#__PURE__*/React.createElement(\"button\", {\n      className: this.props.newPost ? 'myButtonWhite' : 'myButtonBlue',\n      onClick: this.props.clickNewPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 53\n      }\n    }, this.props.newPost ? \"Cancel\" : \"New Post\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButtonWhite\",\n      onClick: this.redirectToProfilePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"Your Profile\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButtonWhite\",\n      onClick: this.props.handleMuteButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, this.props.muted ? 'Click to Unmute' : 'Click to Mute'), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButtonWhite\",\n      onClick: this.handleLogInButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Log Out\")), this.props.username !== '' && this.props.username !== 'Not logged in' && /*#__PURE__*/React.createElement(\"div\", {\n      className: 'mobileNav ' + (this.state.showMobileMenu ? 'showMobileNav' : 'hideMobileNav'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"closeMenu\",\n      onClick: this.toggleMobileMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, \"Close Menu\"), this.props.clickNewPost && /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"newPostButton\",\n      onClick: this.props.clickNewPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 53\n      }\n    }, this.props.newPost ? \"Cancel\" : \"New Post\"), /*#__PURE__*/React.createElement(\"h4\", {\n      onClick: this.redirectToProfilePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Your Profile\"), /*#__PURE__*/React.createElement(\"h4\", {\n      onClick: this.props.handleMuteButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, this.props.muted ? 'Click to Unmute' : 'Click to Mute'), /*#__PURE__*/React.createElement(\"h4\", {\n      onClick: this.handleLogInButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, \"Log Out\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"coverImageSlider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, !this.state.adjustingCoverImage ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"adjustCoverImageButton myButtonOrange\",\n      onClick: this.adjustCoverImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    }, \"Adjust Cover Image\") : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CoverImageSlider, {\n      max: 100,\n      defaultValue: this.trimOffPercent(this.state.startingProfilePicY),\n      valueLabelDisplay: \"auto\",\n      \"aria-labelledby\": \"range-slider\",\n      valueLabelFormat: (value, index) => {\n        return value + '%';\n      },\n      orientation: \"vertical\",\n      onChange: this.handleSliderChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"saveCoverImageAdjustments myButtonOrange\",\n      onClick: this.saveCoverImageAdjustments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cancelCoverImageAdjustments myButtonOrange\",\n      onClick: this.adjustCoverImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 33\n      }\n    }, \"Cancel\")))), this.props.userId && this.props.userId !== this.props.profilePageId && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButtonBlue\",\n      onClick: this.clickFollowButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, this.props.loggedInUserFollowingProfileUser ? 'Unfollow' : 'Follow'));\n  }\n\n}\n\nexport default ProfilePageHeader;\nconst CoverImageSlider = withStyles({\n  root: {\n    color: '#262cde',\n    padding: '13px 0'\n  },\n  thumb: {\n    height: 27,\n    width: 27,\n    backgroundColor: '#fff',\n    border: '1px solid currentColor',\n    marginTop: -12,\n    marginLeft: '-9px !important',\n    '&:focus, &:hover, &$active': {\n      boxShadow: '#ccc 0 2px 3px 1px'\n    }\n  },\n  active: {},\n  rail: {\n    color: '#d8d8d8',\n    opacity: 1,\n    width: '10px !important',\n    borderRadius: 1\n  },\n  track: {\n    width: '10px !important',\n    borderRadius: 1\n  }\n})(Slider);","map":{"version":3,"sources":["/Users/colepatton/vibin/src/components/ProfilePageHeader.js"],"names":["React","Component","queryString","Slider","withStyles","saveProfilePicY","followUser","unFollowUser","ProfilePageHeader","constructor","props","handleSliderChange","event","value","setState","currentProfilePicY","state","showMobileMenu","startingProfilePicY","adjustingCoverImage","redirectToHomePage","bind","handleLogInButton","toggleMobileMenu","redirectToProfilePage","adjustCoverImage","saveCoverImageAdjustments","unfollowUser","clickFollowButton","componentWillReceiveProps","profilePicY","parsed","parse","window","location","search","accessToken","access_token","href","origin","username","userId","profilePageId","trimOffPercent","numberWithPercentSign","slice","serverData","user","name","id","profilePageUsername","updatedFollowerList","followers","deleteIndex","findIndex","x","splice","loggedInUserFollowingProfileUser","push","render","backgroundImage","profilePic","backgroundPosition","color","clickNewPost","newPost","handleMuteButton","muted","height","index","CoverImageSlider","root","padding","thumb","width","backgroundColor","border","marginTop","marginLeft","boxShadow","active","rail","opacity","borderRadius","track"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../style/App.css';\nimport queryString from 'query-string';\nimport Slider from '@material-ui/core/Slider';\nimport { withStyles } from '@material-ui/core/styles';\nimport { saveProfilePicY, followUser, unFollowUser } from '../backendCalls';\n\nclass ProfilePageHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showMobileMenu: false,\n            startingProfilePicY: '20%',\n            currentProfilePicY: '20%',\n            adjustingCoverImage: false\n        };\n        this.redirectToHomePage = this.redirectToHomePage.bind(this);\n        this.handleLogInButton = this.handleLogInButton.bind(this);\n        this.toggleMobileMenu = this.toggleMobileMenu.bind(this);\n        this.redirectToProfilePage = this.redirectToProfilePage.bind(this);\n        this.handleSliderChange = this.handleSliderChange.bind(this);\n        this.adjustCoverImage = this.adjustCoverImage.bind(this);\n        this.saveCoverImageAdjustments = this.saveCoverImageAdjustments.bind(this);\n        this.followUser = this.followUser.bind(this);\n        this.unfollowUser = this.unfollowUser.bind(this);\n        this.clickFollowButton = this.clickFollowButton.bind(this);\n    }\n\n    componentWillReceiveProps() {\n        if (this.props.profilePicY !== this.state.startingProfilePicY)\n            this.setState({ startingProfilePicY: (this.props.profilePicY) });\n    }\n    redirectToHomePage() {\n        let parsed = queryString.parse(window.location.search);\n        let accessToken;\n        if (parsed.access_token)\n            accessToken = parsed.access_token;\n\n        window.location.href = window.location.origin + (accessToken ? ('?access_token=' + accessToken) : '');\n    }\n    handleLogInButton() {\n        if (!queryString.parse(window.location.search).access_token) {\n            window.location.href = (window.location.href === 'http://localhost:3000/') ?\n                'http://localhost:8000/login' : 'https://vibin-backend.herokuapp.com/login'\n        }\n    }\n    toggleMobileMenu() {\n        this.setState({\n            showMobileMenu: !this.state.showMobileMenu\n        });\n    }\n    redirectToProfilePage() {\n        let parsed = queryString.parse(window.location.search);\n        let accessToken = ''\n        if (parsed.access_token)\n            accessToken = parsed.access_token;\n\n        window.location.href = window.location.origin +\n            '/user/?username=' + this.props.username +\n            '&userId=' + this.props.userId +\n            (accessToken ? ('&access_token=' + accessToken) : '');\n    }\n    handleSliderChange = (event, value) => {\n        this.setState({\n            currentProfilePicY: (value + '%')\n        });\n    }\n    adjustCoverImage() {\n        this.setState({\n            adjustingCoverImage: !this.state.adjustingCoverImage,\n            currentProfilePicY: this.state.startingProfilePicY\n        });\n    }\n    saveCoverImageAdjustments() {\n        saveProfilePicY(this.props.profilePageId, this.state.currentProfilePicY);\n        this.setState({\n            adjustingCoverImage: !this.state.adjustingCoverImage,\n            startingProfilePicY: this.state.currentProfilePicY\n        });\n    }\n    trimOffPercent(numberWithPercentSign) {\n        return ((numberWithPercentSign.slice(0, -1)) * 1);\n    }\n    unfollowUser() {\n        unFollowUser(this.state.serverData.user.name, this.state.serverData.user.id,\n            this.state.profilePageUsername, this.state.profilePageId);\n        const updatedFollowerList = this.state.followers;\n        const deleteIndex = updatedFollowerList.findIndex(x => x === this.state.serverData.user.id);\n        updatedFollowerList.splice(deleteIndex, 1);\n        this.setState({\n            followers: updatedFollowerList,\n            loggedInUserFollowingProfileUser: false\n        });\n    }\n    followUser() {\n        followUser(this.state.serverData.user.name, this.state.serverData.user.id,\n            this.state.profilePageUsername, this.state.profilePageId);\n        const updatedFollowerList = this.state.followers;\n        updatedFollowerList.push({\n            userId: this.state.serverData.user.id,\n            username: this.state.serverData.user.name\n        });\n        this.setState({\n            followers: updatedFollowerList,\n            loggedInUserFollowingProfileUser: true\n        });\n    }\n    clickFollowButton() {\n        this.props.loggedInUserFollowingProfileUser ? this.unfollowUser() : this.followUser();\n    }\n    render() {\n        return (\n            <div className='profilePageHeader'\n                style={{\n                    backgroundImage: 'url(' + this.props.profilePic + ')',\n                    backgroundPosition: ('center ' + (this.state.adjustingCoverImage ?\n                        this.state.currentProfilePicY : this.state.startingProfilePicY))\n                }}>\n                <div style={{ color: 'white' }}>\n                    <h1 onClick={this.redirectToHomePage}>Vibe Share</h1>\n                    <h3 className='usernameTitle'>{this.props.username}</h3>\n                </div>\n                {this.props.username === 'Not logged in' ?\n                    <button className='logIn myButtonWhite' onClick={this.handleLogInButton}>Log In</button> :\n                    <button className='mobile myButtonWhite' onClick={this.toggleMobileMenu}>Menu</button>}\n\n                {this.props.username !== '' && this.props.username !== 'Not logged in' &&\n                    <div className='desktopNav buttonContainer'>\n                        {this.props.clickNewPost && <button className={this.props.newPost ? 'myButtonWhite' : 'myButtonBlue'}\n                            onClick={this.props.clickNewPost}>{this.props.newPost ? \"Cancel\" : \"New Post\"}</button>}\n                        <button className='myButtonWhite' onClick={this.redirectToProfilePage}>Your Profile</button>\n                        <button className='myButtonWhite' onClick={this.props.handleMuteButton}>\n                            {this.props.muted ? 'Click to Unmute' : 'Click to Mute'}</button>\n                        <button className='myButtonWhite' onClick={this.handleLogInButton}>Log Out</button>\n                    </div>\n                }\n\n                {this.props.username !== '' && this.props.username !== 'Not logged in' &&\n                    <div className={'mobileNav ' + (this.state.showMobileMenu ? 'showMobileNav' : 'hideMobileNav')}>\n                        <h4 className='closeMenu' onClick={this.toggleMobileMenu}>Close Menu</h4>\n                        {this.props.clickNewPost && <h4 className='newPostButton'\n                            onClick={this.props.clickNewPost}>{this.props.newPost ? \"Cancel\" : \"New Post\"}</h4>}\n                        <h4 onClick={this.redirectToProfilePage}>Your Profile</h4>\n                        <h4 onClick={this.props.handleMuteButton}>\n                            {this.props.muted ? 'Click to Unmute' : 'Click to Mute'}</h4>\n                        <h4 onClick={this.handleLogInButton}>Log Out</h4>\n                    </div>\n                }\n                <div className='coverImageSlider'>\n                    {!this.state.adjustingCoverImage ?\n                        <button className='adjustCoverImageButton myButtonOrange'\n                            onClick={this.adjustCoverImage}>Adjust Cover Image</button> :\n                        <div style={{ height: '100%' }}>\n                            <CoverImageSlider\n                                max={100}\n                                defaultValue={this.trimOffPercent(this.state.startingProfilePicY)}\n                                valueLabelDisplay=\"auto\"\n                                aria-labelledby=\"range-slider\"\n                                valueLabelFormat={(value, index) => {\n                                    return value + '%';\n                                }}\n                                orientation='vertical'\n                                onChange={this.handleSliderChange}\n                            />\n                            <div>\n                                <button className='saveCoverImageAdjustments myButtonOrange'\n                                    onClick={this.saveCoverImageAdjustments}>Save</button>\n                                <button className='cancelCoverImageAdjustments myButtonOrange'\n                                    onClick={this.adjustCoverImage}>Cancel</button>\n                            </div>\n                        </div>\n                    }\n                </div>\n\n                {this.props.userId && (this.props.userId !== this.props.profilePageId) &&\n                    <button className='myButtonBlue' onClick={this.clickFollowButton}>{this.props.loggedInUserFollowingProfileUser ? 'Unfollow' : 'Follow'}</button>\n                }\n            </div>\n        );\n    }\n}\n\nexport default ProfilePageHeader;\n\nconst CoverImageSlider = withStyles({\n    root: {\n        color: '#262cde',\n        padding: '13px 0',\n    },\n    thumb: {\n        height: 27,\n        width: 27,\n        backgroundColor: '#fff',\n        border: '1px solid currentColor',\n        marginTop: -12,\n        marginLeft: '-9px !important',\n        '&:focus, &:hover, &$active': {\n            boxShadow: '#ccc 0 2px 3px 1px',\n        },\n    },\n    active: {},\n    rail: {\n        color: '#d8d8d8',\n        opacity: 1,\n        width: '10px !important',\n        borderRadius: 1\n    },\n    track: {\n        width: '10px !important',\n        borderRadius: 1\n    },\n})(Slider);"]},"metadata":{},"sourceType":"module"}