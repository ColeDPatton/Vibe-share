{"ast":null,"code":"var _jsxFileName = \"/Users/colepatton/vibin/src/components/NewPost.js\";\nimport React, { Component } from 'react';\nimport profilePicturePlaceholder from '../img/profilePicturePlaceholder.jpg';\nimport '../style/App.css';\nimport queryString from 'query-string';\nimport { getTrack, playAt, pause, search } from '../spotifyCalls';\nexport default class NewPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateResults = async filterString => {\n      const results = await search(this.props.accessToken, filterString);\n      console.log(\"search: \");\n      console.log(results.tracks.items);\n      this.setState({\n        searching: false,\n        searchResults: results.tracks.items\n      });\n    };\n\n    this.switchForm = () => {\n      const nextPage = this.state.formPage === 1 ? 2 : 1;\n      this.setState({\n        formPage: nextPage\n      });\n    };\n\n    this.state = {\n      text: '',\n      timeStart: '',\n      searching: false,\n      filterString: '',\n      searchResults: [],\n      formPage: 1\n    };\n  }\n\n  render() {\n    if (this.state.filterString === \"\" && this.state.searching) {\n      this.setState({\n        searching: false,\n        searchResults: []\n      });\n    } else if (this.state.searching) {\n      this.updateResults(this.state.filterString);\n    }\n\n    if (this.state.formPage === 1) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPostTop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }\n      }, \"Cole\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cancelX\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"newPostText\",\n        type: \"text\",\n        placeholder: \"Share your feelings with the world...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPostBottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          this.switchForm();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }\n      }, \"Add Song\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPostTop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      }, \"Cole\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cancelX\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchBar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, \"Search for a song: \"), /*#__PURE__*/React.createElement(Filter, {\n        onTextChange: text => {\n          this.setState({\n            searching: true,\n            filterString: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      })), this.state.searchResults.length > 0 && this.state.searchResults.map(currentSong => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchResult\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"searchResultSong\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }, currentSong.name), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"searchResultArtist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 33\n        }\n      }, currentSong.album.artists[0].name), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"searchResultImg\",\n        src: currentSong.album.images[0].url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"newPostBottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          this.switchForm();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, \"Go back\"), /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, \"Post\")));\n    }\n  }\n\n}\n\nclass Filter extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onKeyUp: event => this.props.onTextChange(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/colepatton/vibin/src/components/NewPost.js"],"names":["React","Component","profilePicturePlaceholder","queryString","getTrack","playAt","pause","search","NewPost","constructor","props","updateResults","filterString","results","accessToken","console","log","tracks","items","setState","searching","searchResults","switchForm","nextPage","state","formPage","text","timeStart","render","length","map","currentSong","name","album","artists","images","url","Filter","event","onTextChange","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport profilePicturePlaceholder from '../img/profilePicturePlaceholder.jpg';\nimport '../style/App.css';\nimport queryString from 'query-string';\nimport { getTrack, playAt, pause, search } from '../spotifyCalls';\n\nexport default class NewPost extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            timeStart: '',\n            searching: false,\n            filterString: '',\n            searchResults: [],\n            formPage: 1\n        };\n    }\n    updateResults = async (filterString) => {\n        const results = await search(this.props.accessToken, filterString);\n        console.log(\"search: \");\n        console.log(results.tracks.items);\n        this.setState({ searching: false, searchResults: results.tracks.items });\n    }\n    switchForm = () => {\n        const nextPage = this.state.formPage === 1 ? 2 : 1;\n        this.setState({\n            formPage: nextPage\n        })\n    }\n\n    render() {\n        if (this.state.filterString === \"\" && this.state.searching) {\n            this.setState({ searching: false, searchResults: [] });\n        } else if (this.state.searching) {\n            this.updateResults(this.state.filterString);\n        }\n\n        if (this.state.formPage === 1) {\n            return (\n                <div className=\"newPost\">\n                    <div className=\"newPostTop\">\n                        <h1 className=\"username\">Cole</h1>\n                        <div className=\"cancelX\">\n                            <div className=\"line1\"></div>\n                            <div className=\"line2\"></div>\n                        </div>\n                    </div>\n                    <textarea className=\"newPostText\" type=\"text\" placeholder=\"Share your feelings with the world...\"></textarea>\n                    <div className=\"newPostBottom\">\n                        <button onClick={() => {\n                            this.switchForm();\n                        }}>Add Song</button>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"newPost\">\n                    <div className=\"newPostTop\">\n                        <h1 className=\"username\">Cole</h1>\n                        <div className=\"cancelX\">\n                            <div className=\"line1\"></div>\n                            <div className=\"line2\"></div>\n                        </div>\n                    </div>\n                    <div className=\"searchBar\">\n                        <h4>Search for a song: </h4>\n                        <Filter onTextChange={text => {\n                            this.setState({ searching: true, filterString: text });\n                        }} />\n                    </div>\n                    {\n                        this.state.searchResults.length > 0 &&\n                        this.state.searchResults.map(currentSong =>\n                            <div className=\"searchResult\">\n                                <h3 className=\"searchResultSong\">{currentSong.name}</h3>\n                                <h3 className=\"searchResultArtist\">{currentSong.album.artists[0].name}</h3>\n                                <img className=\"searchResultImg\" src={currentSong.album.images[0].url}/>\n                            </div>\n                        )\n                    }\n                    <div className=\"newPostBottom\">\n                        <button onClick={() => {\n                            this.switchForm();\n                        }}>Go back</button>\n                        <button>Post</button>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nclass Filter extends Component {\n    render() {\n        return (\n            <div className=\"filter\">\n                <input type=\"text\" onKeyUp={event => this.props.onTextChange(event.target.value)} />\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}